<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <title>URL Hasher</title>
</head>

<body>
  <header>
    <div class="d-flex justify-content-center">
      <h1>URL Hasher</h1>
    </div>
  </header>

  <div class="container">
    <div class="d-flex justify-content-center">
      <input type="text" class="form-control" placeholder="Enter your URL here: " id="url" />
    </div>
    <br />
    <div class="d-flex justify-content-center">
      <button type="button" class="btn btn-primary" onclick="generateHash()">Submit</button>
    </div>
    <div class="d-flex justify-content-center ">
      <h3 class="d-none" id="hashedUrl">Your hashed URL :</h3> 
    </div>
  </div>

  <footer>
    <div class="d-flex justify-content-center">
      Developed by: <a href="https://www.linkedin.com/in/murtuza-bagasrawala-903b6a155/">Murtuza.B</a>
    </div>
  </footer>
</body>

<script>
  function generateHash() {

    let requestBody = {
      url: document.getElementById("url").value
    }

    fetch("http://localhost:8000/hashUrl", {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify(requestBody),
    }).then((response) => response.json())
      .then((data) => {
        console.log('Success:', data);
        document.getElementById("hashedUrl").innerHTML += data.hashedUrl 
        document.getElementById("hashedUrl").className = "d-block"
      })
      .catch((error) => {
        console.error('Error:', error);
      });
  }
</script>

</html>